##### [Главная страница](../readme.md)

# Запуск тестов

Запуск тестов происходит только через интерфейс командной строки. Файл для запуска содержится в каталоге ```КОРЕНЬ_ПРОЕКТА/bitrix/tools/bunit```.
Функционал командной строки модуля состоит из нескольких функций: *помощь, запуск и работа с клонированием данных в тестовую базу данных*.

## Функция помощи

Функция помощи кратко описывает взаимодействие с модулем тестирования:

```sh
$ php bunit help
```

![](img/function-help.png)


## Запуск тестов

Для запуска тестов используется функция ```run```, которая так же может содержать доплнительные параметры, в зависимости от требований к выполнению тестов:

```sh
$ php bunit run
```

*Запуск всех тестов. Успешный проход:*

![](img/success-result-small.png)

*Запуск всех тестов. Есть тесты отмеченные как пропущенные:*

![](img/skipped-result.png)

*Запуск группы тестов. Используется параметр ```label```:*

```sh
$ php bunit run -label=component
```

![](img/group-result.png)

*При тестировании выявлены ошибки:*

![](img/error-result.png)

## Работа с клонированием в тестовую базу данных

При тестировании работы функционала с базой данных лучше использовать отдельное хранилище данных. Лучшим способом для этого является клонирование данных из используемой базы данных в тестовую. При этом тестовые изменения не затрагивают данные проекта и в то же время есть возможность держать тестовую базу данных в актуальном состоянии.

> Используется только в случае, если указаны параметры доступа тестовой базы данных

### Сохранение снимка оригинальной базы данных во временное хранилище

```sh
$ php bunit db create
```

![](img/db-create.png)

### Восстановление данных тестовой базы данных из созданного снимка оригинальной БД

```sh
$ php bunit db update
```

![](img/db-update.png)
